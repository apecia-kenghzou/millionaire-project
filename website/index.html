<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Millionaire Stock Dashboard | RM 50K ‚Üí Wealth</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-sankey@0.12.3/dist/d3-sankey.min.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <h1>üí∞ Millionaire Dashboard</h1>
                <span class="nav-subtitle">RM 50,000 ‚Üí Wealth Creation System</span>
            </div>
            <div class="nav-links">
                <a href="#dashboard" class="active">Dashboard</a>
                <a href="#opportunities">Top Picks</a>
                <a href="#money-flow">Money Flow</a>
                <a href="#all-stocks">All Stocks</a>
                <a href="#search">Search</a>
            </div>
        </div>
    </nav>

    <!-- Last Update Banner -->
    <div class="update-banner">
        <div class="container">
            <span class="update-icon">‚úÖ</span>
            <span class="update-text">Last Updated: <strong>Nov 21, 2025 21:55:30</strong> | Data Source: <strong>Yahoo Finance (Real-time)</strong></span>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container">

        <!-- Hero Section: Top 3 Opportunities -->
        <section id="opportunities" class="hero-section">
            <h2 class="section-title">üéØ Top 3 High-Return Opportunities</h2>

            <div class="opportunity-cards">
                <!-- Priority #1: PENTA -->
                <div class="opp-card priority-1">
                    <div class="opp-badge">Priority #1 üî•</div>
                    <div class="opp-header">
                        <h3>PENTA (7160.KL)</h3>
                        <span class="opp-sector">Technology</span>
                    </div>
                    <div class="opp-company">Pentamaster Corporation</div>
                    <div class="opp-price">RM 3.85 <span class="price-change positive">+3.22%</span></div>

                    <div class="opp-metrics">
                        <div class="metric">
                            <span class="metric-label">Score</span>
                            <span class="metric-value">6.96/10</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Fundamental</span>
                            <span class="metric-value">8.6/10</span>
                        </div>
                        <div class="metric highlight">
                            <span class="metric-label">RSI</span>
                            <span class="metric-value">8.11 ‚Üí 31.88</span>
                        </div>
                    </div>

                    <div class="opp-highlight">
                        <strong>üî• RECOVERY PLAY!</strong> RSI recovered from EXTREME 8.11 ‚Üí 31.88. Panic selling over!
                    </div>

                    <div class="opp-return">
                        <span class="return-label">Expected Return:</span>
                        <span class="return-value">25-30%</span>
                    </div>

                    <div class="opp-action">
                        <button class="btn btn-buy" onclick="showStockDetail('PENTA')">BUY NOW at RM 3.85</button>
                        <span class="allocation">Allocation: 8% (RM 4,000)</span>
                    </div>
                </div>

                <!-- Priority #2: GASMSIA -->
                <div class="opp-card priority-2">
                    <div class="opp-badge">Priority #2 üí∞</div>
                    <div class="opp-header">
                        <h3>GASMSIA (5209.KL)</h3>
                        <span class="opp-sector">Utilities</span>
                    </div>
                    <div class="opp-company">Gas Malaysia Berhad</div>
                    <div class="opp-price">RM 4.29 <span class="price-change negative">-2.50%</span></div>

                    <div class="opp-metrics">
                        <div class="metric">
                            <span class="metric-label">Score</span>
                            <span class="metric-value">7.02/10</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Volume</span>
                            <span class="metric-value">1.70x</span>
                        </div>
                        <div class="metric highlight">
                            <span class="metric-label">RSI</span>
                            <span class="metric-value">30.0</span>
                        </div>
                    </div>

                    <div class="opp-highlight">
                        <strong>üí∞ OVERSOLD ENTRY!</strong> RSI 30.0 + High volume (1.70x) = Accumulation signal
                    </div>

                    <div class="opp-return">
                        <span class="return-label">Expected Return:</span>
                        <span class="return-value">15-18%</span>
                    </div>

                    <div class="opp-action">
                        <button class="btn btn-buy" onclick="showStockDetail('GASMSIA')">BUY NOW at RM 4.29</button>
                        <span class="allocation">Allocation: 6% (RM 3,000)</span>
                    </div>
                </div>

                <!-- Priority #3: PBBANK -->
                <div class="opp-card priority-3">
                    <div class="opp-badge">Priority #3 ‚≠ê</div>
                    <div class="opp-header">
                        <h3>PBBANK (PBBANK.KL)</h3>
                        <span class="opp-sector">Finance</span>
                    </div>
                    <div class="opp-company">Public Bank Berhad</div>
                    <div class="opp-price">RM 4.30 <span class="price-change positive">+1.18%</span></div>

                    <div class="opp-metrics">
                        <div class="metric">
                            <span class="metric-label">Rank</span>
                            <span class="metric-value">#1</span>
                        </div>
                        <div class="metric">
                            <span class="metric-label">Score</span>
                            <span class="metric-value">7.82/10</span>
                        </div>
                        <div class="metric highlight">
                            <span class="metric-label">RSI</span>
                            <span class="metric-value">59.52</span>
                        </div>
                    </div>

                    <div class="opp-highlight">
                        <strong>‚≠ê #1 RANKED!</strong> Best banking fundamentals (8.5 score). Fortress balance sheet.
                    </div>

                    <div class="opp-return">
                        <span class="return-label">Expected Return:</span>
                        <span class="return-value">12-15%</span>
                    </div>

                    <div class="opp-action">
                        <button class="btn btn-buy" onclick="showStockDetail('PBBANK')">BUY NOW at RM 4.30</button>
                        <span class="allocation">Allocation: 13% (RM 6,500)</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Portfolio Summary Cards -->
        <section id="dashboard" class="portfolio-summary">
            <h2 class="section-title">üìä Portfolio Overview</h2>

            <div class="summary-cards">
                <div class="summary-card">
                    <div class="card-icon">üí∞</div>
                    <div class="card-content">
                        <h3>Total Capital</h3>
                        <div class="card-value">RM 50,000</div>
                        <div class="card-detail">
                            <span class="detail-item deployed">Deployed: RM 38,000 (76%)</span>
                            <span class="detail-item cash">Cash: RM 12,000 (24%)</span>
                        </div>
                    </div>
                </div>

                <div class="summary-card">
                    <div class="card-icon">üìà</div>
                    <div class="card-content">
                        <h3>Expected Returns</h3>
                        <div class="card-value">14-17%</div>
                        <div class="card-detail">
                            <span class="detail-item">With Dividends: 18-22%</span>
                            <span class="detail-item">Risk: Medium</span>
                        </div>
                    </div>
                </div>

                <div class="summary-card">
                    <div class="card-icon">üè¢</div>
                    <div class="card-content">
                        <h3>Sector Breakdown</h3>
                        <div class="sector-bars">
                            <div class="sector-bar">
                                <span class="sector-name">Finance (40%)</span>
                                <div class="bar"><div class="bar-fill" style="width: 40%"></div></div>
                                <span class="sector-amount">RM 20,000</span>
                            </div>
                            <div class="sector-bar">
                                <span class="sector-name">Utilities (16%)</span>
                                <div class="bar"><div class="bar-fill" style="width: 16%"></div></div>
                                <span class="sector-amount">RM 8,000</span>
                            </div>
                            <div class="sector-bar">
                                <span class="sector-name">Technology (14%)</span>
                                <div class="bar"><div class="bar-fill" style="width: 14%"></div></div>
                                <span class="sector-amount">RM 7,000</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="summary-card">
                    <div class="card-icon">‚úÖ</div>
                    <div class="card-content">
                        <h3>Action Items</h3>
                        <div class="card-detail">
                            <span class="detail-item buy">BUY NOW: 6 stocks</span>
                            <span class="detail-item scale">SCALE IN: 1 stock</span>
                            <span class="detail-item wait">WATCHLIST: 3 stocks</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Money Flow Sankey Diagram -->
        <section id="money-flow" class="money-flow-section">
            <h2 class="section-title">üíß Money Flow Visualization</h2>
            <p class="section-description">Capital allocation from RM 50,000 ‚Üí Sectors ‚Üí Individual Stocks</p>
            <div id="sankey-chart"></div>
        </section>

        <!-- Stock Search -->
        <section id="search" class="search-section">
            <h2 class="section-title">üîç Stock Search</h2>
            <div class="search-container">
                <input type="text" id="stock-search" placeholder="Search by code (e.g., 7160, 5209) or name (e.g., PENTA, Public Bank)..." />
                <button class="btn btn-search" onclick="searchStocks()">Search</button>
            </div>
            <div id="search-results"></div>
        </section>

        <!-- All Stocks Table -->
        <section id="all-stocks" class="stocks-table-section">
            <h2 class="section-title">üìã All Stocks (14 Total)</h2>

            <div class="table-controls">
                <div class="filter-group">
                    <label>Sector:</label>
                    <select id="sector-filter" onchange="filterTable()">
                        <option value="all">All Sectors</option>
                        <option value="Technology">Technology</option>
                        <option value="Finance">Finance</option>
                        <option value="Utilities">Utilities</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Action:</label>
                    <select id="action-filter" onchange="filterTable()">
                        <option value="all">All Actions</option>
                        <option value="BUY NOW">BUY NOW</option>
                        <option value="SCALE IN">SCALE IN</option>
                        <option value="WAIT">WAIT</option>
                    </select>
                </div>
            </div>

            <div class="table-container">
                <table id="stocks-table">
                    <thead>
                        <tr>
                            <th onclick="sortTable(0)">Rank</th>
                            <th onclick="sortTable(1)">Symbol</th>
                            <th onclick="sortTable(2)">Company</th>
                            <th onclick="sortTable(3)">Sector</th>
                            <th onclick="sortTable(4)">Score</th>
                            <th onclick="sortTable(5)">Price (RM)</th>
                            <th onclick="sortTable(6)">RSI</th>
                            <th onclick="sortTable(7)">Action</th>
                            <th onclick="sortTable(8)">Expected Return</th>
                            <th onclick="sortTable(9)">Allocation</th>
                        </tr>
                    </thead>
                    <tbody id="stocks-tbody">
                        <!-- Will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Stock Detail Modal -->
        <div id="stock-modal" class="modal">
            <div class="modal-content">
                <span class="modal-close" onclick="closeModal()">&times;</span>
                <div id="modal-body">
                    <!-- Stock details will be loaded here -->
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>üí∞ Millionaire Stock Analysis System | Milestone 3: Dashboard Website</p>
            <p>Generated: Nov 21, 2025 | Capital: RM 50,000 | Expected Return: 14-17% (18-22% w/ dividends)</p>
            <p class="disclaimer">‚ö†Ô∏è This is educational analysis, not financial advice. Consult a licensed financial advisor before investing.</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="js/data-loader.js"></script>
    <script src="js/sankey.js"></script>
    <script src="js/table.js"></script>
    <script src="js/search.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html>
